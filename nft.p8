pico-8 cartridge // http://www.pico-8.com
version 42
__lua__

offsetx=32
offsety=32
mapw=8
maph=8
hidden = {}

function resetmap()
 for col=0,mapw-1 do
  hidden[col] = {}
  for row =0,maph-1 do
   hidden[col][row] = true
  end
 end
end

function _init()
 y=6
 x=1
 resetmap()
end

function _update()
 if btnp(‚¨ÖÔ∏è) then x=(x-1)%mapw end
 if btnp(‚û°Ô∏è) then x=(x+1)%mapw end
 if btnp(‚¨ÜÔ∏è) then y=(y-1)%maph end
 if btnp(‚¨áÔ∏è) then y=(y+1)%maph end
 if btnp(‚ùé) then hidden[x][y] = false end
 if btnp(üÖæÔ∏è) then resetmap() end

end

function drawcurse()
 spr(4, offsetx+x*8, offsety+y*8)
end

function drawmap()
 for col=0,mapw-1 do
  for row =0,maph-1 do
   if hidden[col][row] do
    treespr=3
   else
    treespr=mget(col, row)
   end
   spr(treespr, offsetx+col*8, offsety+row*8)
  end
 end
end

function _draw()
 cls()
 drawmap()
 -- map(0, 0, offsetx, offsety, mapw, maph)
 drawcurse()
end
__gfx__
0000000000033000000a8000000dd000220000220000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000003300000089000000dd000200000020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700003333000089a80000dddd00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0007700000333300009a890000dddd00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000770000333333009a89a800dddddd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000440000004400000055000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000440000004400000055000200000020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000220000220000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
0101010101010101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0102020202010101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0102020202020101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0102020202020101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0102020202010101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0102020101010101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0102020101010101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0101010101010101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
